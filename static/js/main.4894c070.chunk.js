(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{34:function(t,e,n){},35:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){},40:function(t,e,n){"use strict";n.r(e);var c=n(0),a=n(7),r=n.n(a),o=n(5),i=(n(34),n(14)),s=n(12),u=n(13),l=n(16),d=n(15),b=n(8),m=n(42),j=(n(35),n(6)),h=n(43),f={addContact:Object(j.b)("contacts/addContact",(function(t,e){return{payload:{contact:{id:Object(h.a)(),name:t,number:e}}}})),removeContact:Object(j.b)("contacts/removeContact",(function(t){return{payload:{contactId:t}}})),changeFilter:Object(j.b)("contacts/changeFilter",(function(t){return{payload:{filter:t}}}))},O=n(1),C={name:"",number:"",alert:!1},v=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state=C,t.handleChange=function(e,n){var c=t.props.contacts;"name"===e&&(c.find((function(t){return t.name.toLowerCase()===n.target.value.toLowerCase()}))&&t.setState({alert:!0}));t.setState(Object(b.a)({},e,n.target.value))},t.handleSubmit=function(e){e.preventDefault();var n=t.state,c=n.name,a=n.number,r=t.props,o=r.onAddContact,i=r.contacts.find((function(t){return t.name.toLowerCase()===c.toLowerCase()}));if(i&&t.setState({alert:!0}),!i&&c&&a)return o(c,a),void t.setState(C)},t.changeState=function(){setTimeout((function(){return t.setState({alert:!1})}),2e3)},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this,e=this.state,n=e.name,c=e.number,a=e.alert;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(O.jsx)("h3",{children:"Name"}),Object(O.jsx)("label",{children:Object(O.jsx)("input",{type:"text",value:n,onChange:function(e){return t.handleChange("name",e)}})}),Object(O.jsx)("br",{}),Object(O.jsx)("h3",{children:"Number"}),Object(O.jsx)("label",{children:Object(O.jsx)("input",{type:"tel",value:c,onChange:function(e){return t.handleChange("number",e)}})}),Object(O.jsx)("br",{}),Object(O.jsx)("button",{type:"submit",className:"buttonForm",children:"Add contact"})]}),Object(O.jsx)(m.a,{onEntered:function(){return t.changeState()},in:a,timeout:500,classNames:"Alert-anime",unmountOnExit:!0,children:Object(O.jsx)("p",{className:"Alert-wrp",children:"This name is already in contacts!"})})]})}}]),n}(c.Component),p={onAddContact:f.addContact},x=Object(o.b)((function(t){return{contacts:t.contacts.items}}),p)(v),g=n(44),y=(n(37),n(22)),S=function(t){var e=t.name,n=t.number,c=t.onClickRemove;return Object(O.jsxs)("li",{className:"ContactListItem",children:[Object(O.jsxs)("p",{children:[e,": ",n]}),Object(O.jsx)("button",{type:"button",className:"ContactsList-button",onClick:c,children:"Delete"})]})},k=Object(o.b)((function(t,e){var n=t.contacts.items.find((function(t){return t.id===e.id}));return Object(y.a)({},n)}),(function(t,e){return{onClickRemove:function(){return t(f.removeContact(e.id))}}}))(S);S.defaultProps={name:"",number:""};var w=Object(o.b)((function(t){var e=t.contacts,n=e.items,c=e.filter;return{contacts:n.filter((function(t){return t.name.toLowerCase().includes(c.toLowerCase())}))}}))((function(t){var e=t.contacts;return Object(O.jsx)(g.a,{component:"ul",className:"ContactsList",children:e.map((function(t){var e=t.id;return Object(O.jsx)(m.a,{timeout:500,classNames:"Contact-anime",children:Object(O.jsx)(k,{id:e},e)},e)}))})})),N=(n(38),function(t){var e=t.value,n=t.onChangeFilter;return Object(O.jsxs)("div",{className:"Filter",children:[Object(O.jsx)("p",{children:"Find contacts by name"}),Object(O.jsx)("input",{type:"text",value:e,onChange:n})]})}),F=Object(o.b)((function(t){return{value:t.contacts.filter}}),(function(t){return{onChangeFilter:function(e){return t(f.changeFilter(e.target.value))}}}))(N);N.defaultProps={value:""};n(39);var A,L=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(s.a)(this,n);for(var c=arguments.length,a=new Array(c),r=0;r<c;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))).state={contacts:[{id:"id-1",name:"Rosie Simpson",number:"459-12-56"},{id:"id-2",name:"Hermione Kline",number:"443-89-12"},{id:"id-3",name:"Eden Clements",number:"645-17-79"},{id:"id-4",name:"Annie Copeland",number:"227-91-26"}],filter:""},t.handleAddContact=function(e){t.setState((function(t){return{contacts:[].concat(Object(i.a)(t.contacts),[e])}}))},t.handleCheckUniqueContact=function(e){var n=!!t.state.contacts.find((function(t){return t.name===e}));return n&&alert("".concat(n.name," is already in contacts!")),!n},t.handleRemoveContact=function(e){return t.setState((function(t){return{contacts:t.contacts.filter((function(t){return t.id!==e}))}}))},t.handleChangeFilter=function(e){return t.setState({filter:e})},t.getVisibleContacts=function(){var e=t.state,n=e.contacts,c=e.filter;return n.filter((function(t){return t.name.toLowerCase().includes(c.toLowerCase())}))},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=localStorage.getItem("contacts"),e=JSON.parse(t);console.log(e),e&&this.setState({contacts:e})}},{key:"componentDidUpdate",value:function(t){var e=this.state.contacts;e!==t.contacts&&localStorage.setItem("contacts",JSON.stringify(e))}},{key:"render",value:function(){var t=this.state,e=t.contacts,n=t.filter,c=this.getVisibleContacts();return Object(O.jsx)(O.Fragment,{children:Object(O.jsxs)("div",{className:"Container",children:[Object(O.jsxs)("section",{title:"Phonebook",className:"Section",children:[Object(O.jsx)("h1",{children:"Phonebook"}),Object(O.jsx)(x,{contacts:e,onAdd:this.handleAddContact,onCheckUnique:this.handleCheckUniqueContact})]}),Object(O.jsxs)("section",{title:"Contacts",className:"Section",children:[Object(O.jsx)("h2",{children:"Contacts"}),Object(O.jsx)(F,{filter:n,onChange:this.handleChangeFilter}),Object(O.jsx)(w,{contacts:c,onRemove:this.handleRemoveContact})]})]})})}}]),n}(c.Component),R=n(4),I=Object(j.c)([].concat([{id:"id-1",name:"Rosie Simpson",number:"459-12-56"},{id:"id-2",name:"Hermione Kline",number:"443-89-12"},{id:"id-3",name:"Eden Clements",number:"645-17-79"},{id:"id-4",name:"Annie Copeland",number:"227-91-26"}]),(A={},Object(b.a)(A,f.addContact,(function(t,e){return[].concat(Object(i.a)(t),[e.payload.contact])})),Object(b.a)(A,f.removeContact,(function(t,e){return t.filter((function(t){return t.id!==e.payload.contactId}))})),A)),q=Object(j.c)("",Object(b.a)({},f.changeFilter,(function(t,e){return e.payload.filter}))),D=Object(R.c)({items:I,filter:q}),E=Object(j.a)({reducer:{contacts:D}});r.a.render(Object(O.jsx)(o.a,{store:E,children:Object(O.jsx)(L,{})}),document.querySelector("#root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.4894c070.chunk.js.map